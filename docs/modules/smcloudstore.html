<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>smcloudstore | SMCloudStore</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.js" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">SMCloudStore</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../globals.html">Globals</a>
				</li>
				<li>
					<a href="smcloudstore.html">smcloudstore</a>
				</li>
			</ul>
			<h1>Package smcloudstore</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<h1 id="smcloudstore">SMCloudStore</h1>
					<p>SMCloudStore is a lightweight Node.js module that offers a simple API to interact with the object storage services of multiple cloud providers, including:</p>
					<ul>
						<li><a href="https://aws.amazon.com/s3/">AWS S3</a></li>
						<li><a href="https://azure.microsoft.com/en-us/services/storage/blobs/">Azure Blob Storage</a></li>
						<li><a href="https://www.backblaze.com/b2/cloud-storage.html">Backblaze B2</a></li>
						<li><a href="https://cloud.google.com/storage/">Google Cloud Storage</a></li>
						<li><a href="https://minio.io/">Minio</a></li>
						<li>Other S3-compatible providers</li>
						<li>…more to come!</li>
					</ul>
					<h2 id="features">Features</h2>
					<ul>
						<li>Simple, unified API to interact with all object storage providers</li>
						<li>Lightweight and flexible: each provider is published as a separate package, so installing SMCloudStore won&#39;t add SDKs for each vendor and thousands of dependencies to your projects</li>
						<li>Optimized for working with streams when putting/retrieving objects</li>
					</ul>
					<p>This code is licensed under the terms of the MIT license (see LICENSE.md).</p>
					<h3 id="smcloudstore-vs-other-packages">SMCloudStore vs other packages</h3>
					<p>SMCloudStore is specifically focused on abstracting the differences between multiple object storage providers, as storage is the most commonly consumed API from cloud providers that isn&#39;t fully standardized. This doesn&#39;t aim to support for other services that cloud providers might offer, such as databases, VMs, etc.</p>
					<ul>
						<li>By focusing only on storage, we can keep things simple. There are few APIs and they are clear and easy to use.</li>
						<li>SMCloudStore is highly modular, and every provider comes with a separate NPM package. This means that you don&#39;t need to install the SDKs for every single cloud provider and all their dependencies if you plan to use only one or two of them.</li>
						<li>We are focusing on a modern development experience. The codebase is primarily written in TypeScript adn transpiled to JavaScript with all the typings published. We are also adopting a stream-centric approach with methods that upload and download objects from storage providers.</li>
					</ul>
					<h2 id="add-to-your-project">Add to your project</h2>
					<p>To start, install the <a href="https://www.npmjs.com/package/smcloudstore">smcloudstore</a> package:</p>
					<pre><code class="lang-sh">npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save smcloudstore</span>
</code></pre>
					<p>Modules for each cloud provider are available on separate packages, so you can choose which ones to include. You need to install at least one of the following packages to use SMCloudStore:</p>
					<ul>
						<li><a href="https://www.npmjs.com/package/@smcloudstore/aws-s3">@smcloudstore/aws-s3</a>: <br /> <code>npm install --save @smcloudstore/aws-s3</code></li>
						<li><a href="https://www.npmjs.com/package/@smcloudstore/azure-storage">@smcloudstore/azure-storage</a>: <br /> <code>npm install --save @smcloudstore/azure-storage</code></li>
						<li><a href="https://www.npmjs.com/package/@smcloudstore/backblaze-b2">@smcloudstore/backblaze-b2</a>: <br /> <code>npm install --save @smcloudstore/backblaze-b2</code></li>
						<li><a href="https://www.npmjs.com/package/@smcloudstore/google-cloud-storage">@smcloudstore/google-cloud-storage</a>: <br /> <code>npm install --save @smcloudstore/google-cloud-storage</code></li>
						<li><a href="https://www.npmjs.com/package/@smcloudstore/minio">@smcloudstore/minio</a>: <br /> <code>npm install --save @smcloudstore/minio</code></li>
						<li><a href="https://www.npmjs.com/package/@smcloudstore/generic-s3">@smcloudstore/generic-s3</a>: <br /> <code>npm install --save @smcloudstore/generic-s3</code></li>
					</ul>
					<h2 id="nomenclature">Nomenclature</h2>
					<p>Each cloud provider use different names for the same concept. In SMCloudStore, we&#39;re standardizing to the following nomenclature:</p>
					<table>
						<thead>
							<tr>
								<th>SMCloudStore</th>
								<th>AWS</th>
								<th>Azure</th>
								<th>Backblaze</th>
								<th>Google Cloud</th>
								<th>Minio</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td><strong>Object</strong></td>
								<td>Object</td>
								<td>Blob</td>
								<td>File</td>
								<td>Object</td>
								<td>Object</td>
							</tr>
							<tr>
								<td><strong>Container</strong></td>
								<td>Bucket</td>
								<td>Container</td>
								<td>Bucket</td>
								<td>Bucket</td>
								<td>Bucket</td>
							</tr>
						</tbody>
					</table>
					<h2 id="api-guide">API Guide</h2>
					<p>Full API documentation is available on this project&#39;s <a href="https://italypaleale.github.io/SMCloudStore/index.html">GitHub page</a> and in the <a href="https://github.com/ItalyPaleAle/SMCloudStore/tree/master/docs"><code>/docs</code></a> folder.</p>
					<p>Each cloud storage provider is implemented in a class defined in one of the modules above. All providers inherit from the <a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html"><code>StorageProvider</code></a> abstract class, which is in the <code>@smcloudstore/core</code> package.</p>
					<p>All asynchronous methods in the examples below return Promises, which can be used as then-ables or with async/await in ES2016. The examples below show using async/await syntax, and assume that all async calls are included in async functions.</p>
					<h3 id="initialization">Initialization</h3>
					<p>The main way to initialize the library is to use the <a href="https://italypaleale.github.io/SMCloudStore/globals.html#smcloudstore"><code>SMCloudStore.Create(provider, connection)</code></a> factory method. Using the factory method is recommended because it supports loading all providers with a &quot;pluggable API&quot;, by just specifying their identifier in the first argument.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Require the package</span>
<span class="hljs-keyword">const</span> SMCloudStore = <span class="hljs-built_in">require</span>(<span class="hljs-string">'smcloudstore'</span>)

<p><span class="hljs-comment">// Identifier of the provider</span>
<span class="hljs-keyword">const</span> provider = <span class="hljs-string">&#39;minio&#39;</span></p>
<p><span class="hljs-comment">// Complete with the connection options for the provider</span>
<span class="hljs-keyword">const</span> connection = {
    <span class="hljs-comment">// ...</span>
}</p>
<p><span class="hljs-comment">// Return an instance of the cloud storage provider class</span>
<span class="hljs-keyword">const</span> storage = SMCloudStore.create(provider, connection)
</code></pre></p>
					<p>The format of the <code>connection</code> argument varies by cloud provider. For more details, please refer to the README for each provider in the <a href="https://github.com/ItalyPaleAle/SMCloudStore/tree/master/packages"><code>packages/</code></a> folder.</p>
					<p>Alternatively, you can create an instance of each provider by initializating the provider&#39;s class directly and invoking the <a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#constructor"><code>constructor(connection)</code></a> method. For example, to create a new Azure Blob Storage provider:</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Require the package</span>
<span class="hljs-keyword">const</span> AzureProvider = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@smcloudstore/azure-storage'</span>)

<p><span class="hljs-comment">// Complete with the connection options for the provider</span>
<span class="hljs-keyword">const</span> connection = {
    <span class="hljs-comment">// ...</span>
}</p>
<p><span class="hljs-comment">// Initialize the provider object</span>
<span class="hljs-keyword">const</span> storage = <span class="hljs-keyword">new</span> AzureProvider(connection)
</code></pre></p>
					<h3 id="storage-createcontainer-container-options-">storage.createContainer(container, [options])</h3>
					<p>Using <a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#createcontainer"><code>storage.createContainer(container, [options])</code></a> you can create a new container on the cloud storage server. The <code>options</code> argument is a dictionary with various options, depending on the provider being used. The method returns a Promise that resolves with no value when the container has been created.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Create a new container called "testcontainer"</span>
<span class="hljs-keyword">await</span> storage.createContainer(<span class="hljs-string">'testcontainer'</span>)

<p><span class="hljs-comment">// Some providers, like AWS S3, require specifying a region</span>
<span class="hljs-keyword">await</span> storage.createContainer(<span class="hljs-string">&#39;testcontainer&#39;</span>, {region: <span class="hljs-string">&#39;us-east-1&#39;</span>})
</code></pre></p>
					<h3 id="storage-iscontainer-container-">storage.isContainer(container)</h3>
					<p>The method <a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#iscontainer"><code>storage.isContainer(container)</code></a> returns a Promise that resolves with a boolean indicating whether a container exists on the provider.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Once the async method resolves, exists will contain true or false</span>
<span class="hljs-keyword">const</span> <span class="hljs-built_in">exists</span> = await storage.isContainer(<span class="hljs-string">'testcontainer'</span>)
</code></pre>
					<h3 id="storage-ensurecontainer-container-options-">storage.ensureContainer(container, [options])</h3>
					<p><a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#ensurecontainer"><code>storage.ensureContainer(container, [options])</code></a> is similar to <code>storage.createContainer()</code>, but it creates the container only if it doesn&#39;t already exist. The method returns a Promise that resolves with no value when the container has been created.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Container "testcontainer" will be created only if it doesn't already exists</span>
<span class="hljs-keyword">await</span> storage.ensureContainer(<span class="hljs-string">'testcontainer'</span>)

<p><span class="hljs-comment">// Some providers, like AWS S3, require specifying a region</span>
<span class="hljs-keyword">await</span> storage.ensureContainer(<span class="hljs-string">&#39;testcontainer&#39;</span>, {region: <span class="hljs-string">&#39;us-east-1&#39;</span>})
</code></pre></p>
					<h3 id="storage-listcontainers-">storage.listContainers()</h3>
					<p>The method <a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#listcontainers"><code>storage.listContainers()</code></a> returns a Promise that resolves with the list of names of the containers that the user owns on the storage server.</p>
					<pre><code class="lang-js">// List all containers the user owns<span class="hljs-built_in">
const </span>containers = await storage.listContainers()
// Result is an<span class="hljs-built_in"> array </span>of strings, like: ['testcontainer', 'testcontainer2']
</code></pre>
					<h3 id="storage-deletecontainer-container-">storage.deleteContainer(container)</h3>
					<p>The method <a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#deletecontainer"><code>storage.deleteContainer(container)</code></a> deletes a container from the storage server. It returns a Promise that resolves with no value on success.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Delete a container</span>
<span class="hljs-keyword">await</span> storage.deleteContainer(<span class="hljs-string">'testcontainer'</span>)
</code></pre>
					<h3 id="storage-putobject-container-path-data-options-">storage.putObject(container, path, data, [options])</h3>
					<p><a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#putobject"><code>storage.putObject(container, path, data, [options])</code></a> is the method to put (upload) an object to the storage server.</p>
					<p>Arguments are:</p>
					<ul>
						<li><code>container</code>: name of the destination container.</li>
						<li><code>path</code>: full path inside the container where to store the object.</li>
						<li><code>data</code>: the data to be uploaded. This could be a Readable Stream, or a string or Buffer containing the full data. Streams are preferred when dealing with larger amounts of data.</li>
						<li><code>options</code>: dictionary with options. Options are primarily provider-dependent, so please refer to the documentation for each provider for more information. The list below includes only the common ones<ul>
								<li><code>options.metadata</code>: object containing custom metadata and properties. An important key in the metadata object is <code>Content-Type</code>, which sets the Content-Type header for the file. Some providers might have special treatment for other keys too.</li>
							</ul>
						</li>
					</ul>
					<p>The method returns a Promise that resolves with no value when the upload is complete.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Upload a stream</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>).createReadStream(<span class="hljs-string">'someimage.jpg'</span>)
<span class="hljs-keyword">const</span> options = {
    <span class="hljs-attr">metadata</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'image/jpeg'</span>
    }
}
<span class="hljs-keyword">await</span> storage.putObject(<span class="hljs-string">'testcontainer'</span>, <span class="hljs-string">'directory/someimage.jpg'</span>, data, options)

<p><span class="hljs-comment">// Upload the content of a string or Buffer</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-string">&#39;Nel mezzo del cammin di nostra vita mi ritrovai per una selva oscura ché la diritta via era smarrita&#39;</span>
<span class="hljs-keyword">const</span> options = {
    <span class="hljs-attr">metadata</span>: {
        <span class="hljs-string">&#39;Content-Type&#39;</span>: <span class="hljs-string">&#39;text/plain&#39;</span>
    }
}
<span class="hljs-keyword">await</span> storage.putObject(<span class="hljs-string">&#39;testcontainer&#39;</span>, <span class="hljs-string">&#39;directory/dante.txt&#39;</span>, data, options)
</code></pre></p>
					<h3 id="storage-getobject-container-path-">storage.getObject(container, path)</h3>
					<p><a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#getobject"><code>storage.getObject(container, path)</code></a> allows getting (downloading) an object from the storage server.</p>
					<p>Arguments are:</p>
					<ul>
						<li><code>container</code>: name of the container with the object.</li>
						<li><code>path</code>: full path of the object to retrieve, inside the container.</li>
					</ul>
					<p>The method returns a Promise that resolves with a Readable Stream.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Retrieve a file</span>
<span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> storage.getObject(<span class="hljs-string">'testcontainer'</span>, <span class="hljs-string">'directory/someimage.jpg'</span>)

<p><span class="hljs-comment">// The method returns a Readable Stream that can be processed as you wish</span>
<span class="hljs-comment">// For example, to write the stream to file:</span>
stream.pipe(<span class="hljs-built_in">require</span>(<span class="hljs-string">&#39;fs&#39;</span>).createWriteStream(<span class="hljs-string">&#39;write/to/someimage.jpg&#39;</span>))
</code></pre></p>
					<h3 id="storage-getobjectasbuffer-container-path-">storage.getObjectAsBuffer(container, path)</h3>
					<p><a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#getobjectasbuffer"><code>storage.getObjectAsBuffer(container, path)</code></a> behaves similarly to <code>storage.getObject()</code>, accepting the same arguments, but returns the data in a Buffer object loaded in memory.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Retrieve a file as buffer</span>
<span class="hljs-keyword">const</span> <span class="hljs-built_in">buffer</span> = await storage.getObjectAsBuffer(<span class="hljs-string">'testcontainer'</span>, <span class="hljs-string">'directory/someimage.jpg'</span>)

<p><span class="hljs-comment">// Print the last 100 bytes from the Buffer</span>
console.log(<span class="hljs-built_in">buffer</span>.slice(<span class="hljs-number">-100</span>))
</code></pre></p>
					<h3 id="storage-getobjectasstring-container-path-">storage.getObjectAsString(container, path)</h3>
					<p><a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#getobjectasstring"><code>storage.getObjectAsString(container, path)</code></a> behaves similarly to <code>storage.getObject()</code>, accepting the same arguments, but returns the data as a utf8-encoded string.</p>
					<pre><code class="lang-js">// Retrieve <span class="hljs-keyword">a</span> <span class="hljs-built_in">file</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">string</span>
const <span class="hljs-keyword">string</span> = await storage.getObjectAsString(<span class="hljs-string">'testcontainer'</span>, <span class="hljs-string">'textfile.txt'</span>)
<span class="hljs-comment">
// Print the string</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-keyword">string</span>)
</code></pre>
					<h3 id="storage-listobjects-container-prefix-">storage.listObjects(container, [prefix])</h3>
					<p><a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#listobjects"><code>storage.listObjects(container, [prefix])</code></a> returns a list of all the objects on the storage server at the specified path. This method does not recursively walk into directories (real or virtual, separated by a slash character). If <code>prefix</code> is not specified, the method will list the root &quot;folder&quot;.</p>
					<p>The method returns a Promise that resolves with an array of objects of type <a href="https://italypaleale.github.io/SMCloudStore/interfaces/listitemobject.html"><code>ListItemObject</code></a>, containing information for an object on the server, or <a href="https://italypaleale.github.io/SMCloudStore/interfaces/listitemprefix.html"><code>ListItemPrefix</code></a>, containing information for a prefix (folder).</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Retrieve the list of objects</span>
<span class="hljs-keyword">const</span> <span class="hljs-built_in">list</span> = <span class="hljs-keyword">await</span> storage.listObjects(<span class="hljs-string">'testcontainer'</span>, <span class="hljs-string">'/'</span>)

<p><span class="hljs-comment">// List is an array of elements representing objects or prefixes</span></p>
<p><span class="hljs-comment">// Prefixes have the structure</span>
{
    <span class="hljs-attribute">prefix</span>: <span class="hljs-string">&#39;/path&#39;</span>
}</p>
<p><span class="hljs-comment">// Object have the structure</span>
{
    <span class="hljs-attribute">path</span>: <span class="hljs-string">&#39;/path/to/file.jpg&#39;</span>,
    <span class="hljs-attribute">size</span>: <span class="hljs-number">123</span>, <span class="hljs-comment">// Size in bytes</span>
    <span class="hljs-attribute">lastModified</span>: <span class="hljs-built_in">Date</span>() <span class="hljs-comment">// Date object</span>
    <span class="hljs-comment">// Some providers might return more data, such as contentType, contentMD5, contentSHA1, and creationTime. Please refer to the documentation for details.</span>
}
</code></pre></p>
					<h3 id="storage-deleteobject-container-path-">storage.deleteObject(container, path)</h3>
					<p>The method <a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#deleteobject"><code>storage.deleteObject(container, path)</code></a> deletes an object from a container in the storage server. It returns a Promise that resolves with no value on success.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Delete an object</span>
<span class="hljs-keyword">await</span> storage.deleteObject(<span class="hljs-string">'testcontainer'</span>, <span class="hljs-string">'path/to/file.jpg'</span>)
</code></pre>
					<h3 id="storage-presignedgeturl-container-path-ttl-">storage.presignedGetUrl(container, path, [ttl])</h3>
					<p>The method <a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#presignedgeturl"><code>storage.presignedGetUrl(container, path, [ttl])</code></a> returns a Promise that resolves with a pre-signed URL that can be used to download an object using any client (e.g. a web browser).</p>
					<p>The <code>ttl</code> parameter determines how long the signed URL will be valid for, in seconds from present time.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Get the pre-signed URL</span>
<span class="hljs-keyword">const</span> <span class="hljs-built_in">url</span> = <span class="hljs-keyword">await</span> storage.presignedGetUrl(<span class="hljs-string">'testcontainer'</span>, <span class="hljs-string">'path/to/file.jpg'</span>, <span class="hljs-number">60</span>)
<span class="hljs-comment">// Result is a full URL, like "https://storage.provider/path?token=..."</span>
</code></pre>
					<p>The URL can be used to retrieve the object. For example, using curl:</p>
					<pre><code class="lang-sh">curl <span class="hljs-string">"https://storage.provider/path?token=..."</span> &gt; <span class="hljs-regexp">/path/</span>to<span class="hljs-regexp">/destination/</span><span class="hljs-keyword">file</span>
</code></pre>
					<p>Note that <strong>some providers do not support this method</strong> (Backblaze B2), and will throw an exception every time it&#39;s called.</p>
					<h3 id="stor-age-presignedputurl-container-path-options-ttl-">stor age.presignedPutUrl(container, path, [options], [ttl])</h3>
					<p>The method <a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#presignedputurl"><code>storage.presignedPutUrl(container, path, [options], [ttl])</code></a> returns a Promise that resolves with a pre-signed URL that can be used to upload an object to the server, using a PUT request from any client.</p>
					<p>The <code>options</code> argument can be used by the provider to specify certain requirements for clients that will upload files. For example, it can be used to enforce a certain <code>Content-Type</code> header, etc. Its values are the same they are for the <code>putObject</code> method. Some providers ignore this value - please refer to the documentation for each provider for more details.</p>
					<p>The <code>ttl</code> parameter determines how long the signed URL will be valid for, in seconds from present time.</p>
					<pre><code class="lang-js"><span class="hljs-comment">// Get the pre-signed URL</span>
<span class="hljs-keyword">const</span> <span class="hljs-built_in">url</span> = <span class="hljs-keyword">await</span> storage.presignedPutUrl(<span class="hljs-string">'testcontainer'</span>, <span class="hljs-string">'path/to/file.jpg'</span>, {}, <span class="hljs-number">60</span>)
<span class="hljs-comment">// Result is a full URL, like "https://storage.provider/path?token=..."</span>
</code></pre>
					<p>The URL can be used to upload an object. For example, using curl:</p>
					<pre><code class="lang-sh"><span class="hljs-string">curl </span><span class="hljs-built_in">--request</span> <span class="hljs-string">PUT </span><span class="hljs-built_in">--upload-file</span> <span class="hljs-string">"/path/to/file"</span> <span class="hljs-string">"https://storage.provider/path?token=..."</span>
</code></pre>
					<p>Note that <strong>some providers do not support this method</strong> (Backblaze B2), and will throw an exception every time it&#39;s called. Other providers, like Azure Storage, require clients to specify certain options when sending the PUT request; please refer to each provider&#39;s documentation.</p>
					<h3 id="storage-client-">storage.client()</h3>
					<p><a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#client"><code>storage.client()</code></a> is a getter that exposes the underlying client for the storage provider, allowing for interaction with the provider directly. This is useful for advanced scenarios, such as needing to invoke provider-specific methods that aren&#39;t available in SMCloudStore.</p>
					<h3 id="storage-provider-">storage.provider()</h3>
					<p><a href="https://italypaleale.github.io/SMCloudStore/classes/core.storageprovider.html#provider"><code>storage.provider()</code></a> returns the identifier (name) of the storage provider currently in use, for example <code>generic-s3</code>.</p>
				</div>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Object literals</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-object-literal tsd-parent-kind-external-module"><a href="smcloudstore.html#smcloudstore-1" class="tsd-kind-icon">SMCloud<wbr>Store</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Object literals</h2>
				<section class="tsd-panel tsd-member tsd-kind-object-literal tsd-parent-kind-external-module">
					<a name="smcloudstore-1" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagConst">Const</span> <span class="tsd-flag ts-flagExport assignment">Export assignment</span> SMCloud<wbr>Store</h3>
					<div class="tsd-signature tsd-kind-icon">SMCloud<wbr>Store<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">object</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/ItalyPaleAle/SMCloudStore/blob/c26b1e7/packages/smcloudstore/src/SMCloudStore.ts#L6">smcloudstore/src/SMCloudStore.ts:6</a></li>
						</ul>
					</aside>
					<section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-object-literal">
						<a name="smcloudstore-1.create" class="tsd-anchor"></a>
						<h3>Create</h3>
						<ul class="tsd-signatures tsd-kind-function tsd-parent-kind-object-literal">
							<li class="tsd-signature tsd-kind-icon">Create<span class="tsd-signature-symbol">(</span>provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, connection<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">StorageProvider</span></li>
						</ul>
						<ul class="tsd-descriptions">
							<li class="tsd-description">
								<aside class="tsd-sources">
									<ul>
										<li>Defined in <a href="https://github.com/ItalyPaleAle/SMCloudStore/blob/c26b1e7/packages/smcloudstore/src/SMCloudStore.ts#L14">smcloudstore/src/SMCloudStore.ts:14</a></li>
									</ul>
								</aside>
								<div class="tsd-comment tsd-typography">
									<div class="lead">
										<p>Initializes a new client to interact with cloud providers&#39; object storage services.</p>
									</div>
								</div>
								<h4 class="tsd-parameters-title">Parameters</h4>
								<ul class="tsd-parameters">
									<li>
										<h5>provider: <span class="tsd-signature-type">string</span></h5>
										<div class="tsd-comment tsd-typography">
											<div class="lead">
												<p>Name of the cloud provider to use (see <code>SMCloudStore.Providers</code>)</p>
											</div>
										</div>
									</li>
									<li>
										<h5>connection: <span class="tsd-signature-type">any</span></h5>
										<div class="tsd-comment tsd-typography">
											<div class="lead">
												<p>Dictionary with connection options. List of keys is specific for every cloud provider</p>
											</div>
										</div>
									</li>
								</ul>
								<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">StorageProvider</span></h4>
								<p>An instance of a cloud provider module</p>
							</li>
						</ul>
					</section>
					<section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-object-literal">
						<a name="smcloudstore-1.providers" class="tsd-anchor"></a>
						<h3>Providers</h3>
						<ul class="tsd-signatures tsd-kind-function tsd-parent-kind-object-literal">
							<li class="tsd-signature tsd-kind-icon">Providers<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></li>
						</ul>
						<ul class="tsd-descriptions">
							<li class="tsd-description">
								<aside class="tsd-sources">
									<ul>
										<li>Defined in <a href="https://github.com/ItalyPaleAle/SMCloudStore/blob/c26b1e7/packages/smcloudstore/src/SMCloudStore.ts#L36">smcloudstore/src/SMCloudStore.ts:36</a></li>
									</ul>
								</aside>
								<div class="tsd-comment tsd-typography">
									<div class="lead">
										<p>Returns a list of supported providers.</p>
									</div>
								</div>
								<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h4>
								<p>List of supported provider names</p>
							</li>
						</ul>
					</section>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="../globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="aws_s3.html">aws-<wbr>s3</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="azure_storage.html">azure-<wbr>storage</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="backblaze_b2.html">backblaze-<wbr>b2</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="core.html">core</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="generic_s3.html">generic-<wbr>s3</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="google_cloud_storage.html">google-<wbr>cloud-<wbr>storage</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="minio.html">minio</a>
					</li>
					<li class="current tsd-kind-external-module">
						<a href="smcloudstore.html">smcloudstore</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-object-literal tsd-parent-kind-external-module">
						<a href="smcloudstore.html#smcloudstore-1" class="tsd-kind-icon">SMCloud<wbr>Store</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
</body>
</html>